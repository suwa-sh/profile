/*!
 * Start Bootstrap - Agency v3.3.7+1 (http://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
function updateSummary(a){a.forEach(function(a){$("#services-container").append('      <div class="col-md-4">        <span class="fa-stack fa-4x">          <i class="fa fa-circle fa-stack-2x text-primary"></i>          <i class="fa '+a.code+' fa-stack-1x fa-inverse"></i>        </span>        <h4 class="service-heading">'+a.name+'</h4>        <p class="text-muted">'+a.description+"</p>      </div>    ")})}function updateProducts(a){a.forEach(function(a){$("#products-conteiner").append('      <div class="col-md-4 col-sm-6 portfolio-item">        <a href="'+a.url+'" class="portfolio-link" data-toggle="modal">          <div class="portfolio-hover">            <div class="portfolio-hover-content">              <i class="fa fa-plus fa-3x"></i>            </div>          </div>          <img src="img/product/'+a.code+"."+a.image_ext+'" class="img-responsive" alt="">        </a>        <div class="portfolio-caption">          <h4>'+a.name+'</h4>          <p class="text-muted">'+a.category+"</p>        </div>      </div>    ")})}function updateCareers(a){var t=!0;a.forEach(function(a){var s="";t?(s="",t=!1):(s='class="timeline-inverted"',t=!0),$("#careers-last").before("      <li "+s+'>        <div class="timeline-image">          <img class="img-circle img-responsive" src="img/logos/logo_'+a.code+'.jpg" alt="" style="height: 100%">        </div>        <div class="timeline-panel">          <div class="timeline-heading">            <h4>'+a.start.substr(0,4)+"-"+a.end.substr(0,4)+'</h4>            <h4 class="subheading">'+a.name+'</h4>          </div>          <div class="timeline-body">            <p class="text-muted">'+a.description+"</p>          </div>        </div>      </li>    ")})}function updateProjects(a){var t=[],s=[],e=[],c=[];a.forEach(function(a){pushCsv(t,a.customer_industry),pushCsv(s,a.roles),pushCsv(e,a.mw_pkg),pushCsv(c,a.language)}),renderSummaryPieChart("業種","#industory-chart",t),renderSummaryPieChart("ロール","#role-chart",s),renderSummaryPieChart("MW/PKG","#mw-chart",e),renderSummaryPieChart("言語","#language-chart",c)}function pushCsv(a,t){if(t){var s=t.split(",");s.forEach(function(t){a.push(t)})}}function renderSummaryPieChart(a,t,s){var e=$(t),c=[];s.forEach(function(a){var t=!1;if(c.forEach(function(s){if(s.name===a)return s.count=s.count+1,void(t=!0)}),!t){var s={};s.name=a,s.count=1,c.push(s)}}),c.sort(function(a,t){return a.count<t.count?1:a.count==t.count?a.name<t.name?-1:1:-1});var i=[],o=[];c.forEach(function(a){i.push(a.name),o.push(a.count)});var r=[],n=[];o.forEach(function(a){var t=chroma.random().rgb();r.push("rgba("+t[0]+", "+t[1]+", "+t[2]+", 0.6)"),n.push("rgba("+t[0]+", "+t[1]+", "+t[2]+", 1)")});var l={datasets:[{data:o,backgroundColor:r,borderColor:n,borderWidth:2}],labels:i};return new Chart(e,{type:"doughnut",data:l,options:{title:{display:!0,text:a,fontSize:24},legend:{display:!1}}})}function updatePublicRelations(a){console.log(a),a.forEach(function(a){$("#pr-container").append('      <div class="col-md-4">        <span class="fa-stack fa-4x">          <i class="fa fa-circle fa-stack-2x"></i>          <i class="fa '+a.code+' fa-stack-1x fa-inverse"></i>        </span>        <h4 class="service-heading">'+a.name+'</h4>        <p class="text-muted">'+a.description+"</p>      </div>    ")})}!function(a){"use strict";a("a.page-scroll").bind("click",function(t){var s=a(this);a("html, body").stop().animate({scrollTop:a(s.attr("href")).offset().top-50},1250,"easeInOutExpo"),t.preventDefault()}),a("body").scrollspy({target:".navbar-fixed-top",offset:51}),a(".navbar-collapse ul li a").click(function(){a(".navbar-toggle:visible").click()}),a("#mainNav").affix({offset:{top:100}}),d3.csv("data/know-how.csv",function(a,t){updateSummary(t)}),d3.csv("data/products.csv",function(a,t){updateProducts(t)}),d3.csv("data/careers.csv",function(a,t){updateCareers(t)}),d3.csv("data/projects.csv",function(a,t){updateProjects(t)}),d3.csv("data/public_relations.csv",function(a,t){updatePublicRelations(t)})}(jQuery);