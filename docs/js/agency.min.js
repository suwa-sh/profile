/*!
 * Start Bootstrap - Agency v3.3.7+1 (http://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2017 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
function updateSummary(a){a.forEach(function(a){$("#services-container").append('      <div class="col-md-4">        <span class="fa-stack fa-4x">          <i class="fa fa-circle fa-stack-2x text-primary"></i>          <i class="fa '+a.code+' fa-stack-1x fa-inverse"></i>        </span>        <h4 class="service-heading">'+a.name+'</h4>        <p class="text-muted">'+a.description+"</p>      </div>    ")})}function updateProducts(a){a.forEach(function(a){$("#products-conteiner").append('      <div class="col-md-4 col-sm-6 portfolio-item">        <a href="'+a.url+'" class="portfolio-link" data-toggle="modal">          <div class="portfolio-hover">            <div class="portfolio-hover-content">              <i class="fa fa-plus fa-3x"></i>            </div>          </div>          <img src="img/product/'+a.code+'.png" class="img-responsive" alt="">        </a>        <div class="portfolio-caption">          <h4>'+a.name+'</h4>          <p class="text-muted">'+a.category+"</p>        </div>      </div>    ")})}function updateCareers(a){var t=!0;a.forEach(function(a){var e="";t?(e="",t=!1):(e='class="timeline-inverted"',t=!0),$("#careers-last").before("      <li "+e+'>        <div class="timeline-image">          <img class="img-circle img-responsive" src="img/logos/logo_'+a.code+'.jpg" alt="" style="height: 100%">        </div>        <div class="timeline-panel">          <div class="timeline-heading">            <h4>'+a.start.substr(0,4)+"-"+a.end.substr(0,4)+'</h4>            <h4 class="subheading">'+a.name+'</h4>          </div>          <div class="timeline-body">            <p class="text-muted">'+a.description+"</p>          </div>        </div>      </li>    ")})}function updateProjects(a){var t=[],e=[],s=[],i=[];a.forEach(function(a){pushCsv(t,a.customer_industry),pushCsv(e,a.roles),pushCsv(s,a.mw_pkg),pushCsv(i,a.language)}),renderSummaryPieChart("業種","#industory-chart",t),renderSummaryPieChart("ロール","#role-chart",e),renderSummaryPieChart("MW/PKG","#mw-chart",s),renderSummaryPieChart("言語","#language-chart",i)}function pushCsv(a,t){if(t){var e=t.split(",");e.forEach(function(t){a.push(t)})}}function renderSummaryPieChart(a,t,e){var s=$(t),i=[];e.forEach(function(a){var t=!1;if(i.forEach(function(e){if(e.name===a)return e.count=e.count+1,void(t=!0)}),!t){var e={};e.name=a,e.count=1,i.push(e)}}),i.sort(function(a,t){return a.count<t.count?1:a.count==t.count?a.name<t.name?-1:1:-1});var c=[],o=[];i.forEach(function(a){c.push(a.name),o.push(a.count)});var r=[],n=[];o.forEach(function(a){var t=chroma.random().rgb();r.push("rgba("+t[0]+", "+t[1]+", "+t[2]+", 0.6)"),n.push("rgba("+t[0]+", "+t[1]+", "+t[2]+", 1)")});var l={datasets:[{data:o,backgroundColor:r,borderColor:n,borderWidth:2}],labels:c};return new Chart(s,{type:"doughnut",data:l,options:{title:{display:!0,text:a,fontSize:24},legend:{display:!1}}})}function updatePublicRelations(a){console.log(a),a.forEach(function(a){$("#pr-container").append('      <div class="col-md-4">        <span class="fa-stack fa-4x">          <i class="fa fa-circle fa-stack-2x"></i>          <i class="fa '+a.code+' fa-stack-1x fa-inverse"></i>        </span>        <h4 class="service-heading">'+a.name+'</h4>        <p class="text-muted">'+a.description+"</p>      </div>    ")})}!function(a){"use strict";a("a.page-scroll").bind("click",function(t){var e=a(this);a("html, body").stop().animate({scrollTop:a(e.attr("href")).offset().top-50},1250,"easeInOutExpo"),t.preventDefault()}),a("body").scrollspy({target:".navbar-fixed-top",offset:51}),a(".navbar-collapse ul li a").click(function(){a(".navbar-toggle:visible").click()}),a("#mainNav").affix({offset:{top:100}}),d3.csv("profile/data/know-how.csv",function(a,t){updateSummary(t)}),d3.csv("profile/data/products.csv",function(a,t){updateProducts(t)}),d3.csv("profile/data/careers.csv",function(a,t){updateCareers(t)}),d3.csv("profile/data/projects.csv",function(a,t){updateProjects(t)}),d3.csv("profile/data/public_relations.csv",function(a,t){updatePublicRelations(t)})}(jQuery);